// Create database
CREATE DATABASE gaen_db;

// Create new user
CREATE USER 'GAEN'@'localhost' IDENTIFIED BY 'GAENtest';
GRANT ALL PRIVILEGES ON gaen_db.* TO 'GAEN'@'localhost';

// Log in as new user

// Create tables
use gaen_db;
CREATE TABLE logs (
    id INT PRIMARY KEY,
    myId CHAR(36) NOT NULL,
    time TIMESTAMP NOT NULL,
    logType INT,
    otherId CHAR(36),
    rssi INT,
    tx INT,
    attenuation INT,
    UNIQUE KEY (myId, time, logType)
);
CREATE TABLE config (
    version INT NOT NULL PRIMARY KEY,
    SCAN_PERIOD BIGINT NOT NULL,
    SCAN_DURATION BIGINT NOT NULL,
    UPLOAD_PERIOD BIGINT NOT NULL,
    SERVICE_UUID INT NOT NULL,
    advertiseMode INT NOT NULL,
    advertiseTxPower INT NOT NULL,
    scanMode INT NOT NULL
);

// Initialize config
INSERT IGNORE INTO config (version, SCAN_PERIOD, SCAN_DURATION, UPLOAD_PERIOD, SERVICE_UUID, advertiseMode, advertiseTxPower, scanMode) 
VALUES (0b01000000, 300000, 8000, 3600000, 0xfd6f, 1, 1, 1);